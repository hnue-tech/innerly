<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INNERLY - B·ªô s·∫£n ph·∫©m c√¢n b·∫±ng c·∫£m x√∫c h·ªçc ƒë∆∞·ªùng</title>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XEELZR1L2D"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-XEELZR1L2D');
    </script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --primary-blue: #4A90E2;
            --primary-yellow: #F5A623;
            --soft-mint: #E8F5E9;
            --text-dark: #333;
            --text-light: #666;
            --white: #fff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            line-height: 1.6;
            color: var(--text-dark);
            background-color: #f9f9f9;
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* HEADER */
        header {
            background: var(--white);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
        }   

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--text-dark);
            margin-left: 20px;
            font-weight: 500;
        }

        .nav-links a.ai-link {
            color: var(--primary-blue);
            font-weight: bold;
            border: 2px solid var(--primary-blue);
            padding: 5px 15px;
            border-radius: 20px;
        }

        /* HERO */
        .hero {
            background: linear-gradient(135deg, var(--soft-mint), #ffffff);
            padding: 60px 0;
            text-align: center;
        }

        .hero h1 {
            color: var(--primary-blue);
            font-size: 2.5rem;
        }

        .hero h2 {
            font-size: 1.2rem;
            color: var(--text-light);
            margin: 20px auto 30px;
            max-width: 800px;
        }

        .hero-img-placeholder {
            max-width: 800px;
            height: 400px;
            background-color: #ddd;
            margin: 0 auto;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        .hero-img-placeholder img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* SECTION TITLES */
        .section-title {
            text-align: center;
            font-size: 2rem;
            margin-bottom: 40px;
            color: var(--primary-blue);
            text-transform: uppercase;
        }

        /* MISSION */
        .mission {
            padding: 60px 0;
            background-color: var(--white);
        }

        .mission-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
        }

        .mission-text p {
            margin-bottom: 15px;
            text-align: justify;
        }

        /* JOURNEY */
        .journey {
            padding: 60px 0;
            background-color: var(--soft-mint);
        }

        .journey-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .card {
            background: var(--white);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            border-top: 5px solid var(--primary-blue);
            text-align: center;
        }

        .card:nth-child(2) { border-top-color: var(--primary-yellow); }
        .card:nth-child(3) { border-top-color: #27ae60; }
        .card:nth-child(4) { border-top-color: #e74c3c; }

        .card img {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 15px;
        }

        .quote {
            font-style: italic;
            color: var(--primary-blue);
            margin-bottom: 10px;
            display: block;
            font-weight: 600;
        }

        /* AI SECTION */
        .ai-section {
            padding: 60px 0;
            background: linear-gradient(to right, #f8f9fa, #e9ecef);
        }

        .ai-container {
            background: var(--white);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            padding: 40px;
            border: 2px solid var(--primary-blue);
            margin-bottom: 40px;
        }

        .ai-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .chat-box textarea {
            width: 100%;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #ddd;
            margin-bottom: 15px;
        }

        .chat-btn {
            background-color: var(--primary-blue);
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 1rem;
            border-radius: 50px;
            cursor: pointer;
            display: flex;
            gap: 10px;
            align-items: center;
            margin: 0 auto;
        }

        .chat-btn.secondary {
            background-color: var(--primary-yellow);
        }

        .loading-dots {
            display: none;
            text-align: center;
            margin-top: 15px;
            color: var(--primary-blue);
        }

        .chat-bubble {
            padding: 10px 14px;
            border-radius: 16px;
            margin-bottom: 8px;
            max-width: 75%;
            font-size: 14px;
        }

        .chat-bubble.user {
            background: #dbeafe;
            margin-left: auto;
        }

        .chat-bubble.bot {
            background: #e8f5e9;
            margin-right: auto;
        }

        .ai-features-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .ai-feature-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .input-group input, .input-group select {
            width: 100%;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #ddd;
            margin-bottom: 15px;
        }

        /* HISTORY */
        .history {
            padding: 60px 0;
            background-color: var(--white);
        }

        .history-content {
            background: #fdfdfd;
            padding: 30px;
            border-radius: 10px;
            border-left: 5px solid var(--primary-yellow);
        }

        /* FOOTER */
        footer {
            background: #2c3e50;
            color: white;
            padding: 50px 0;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
        }

        .footer-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 15px;
        }

        @media (max-width: 768px) {
            .mission-content,
            .journey-grid,
            .ai-features-grid,
            .footer-grid {
                grid-template-columns: 1fr;
            }
            .nav-links { display: none; }
        }
    </style>
</head>
<body>

<header>
    <div class="container">
        <nav>
            <div class="logo">
                <img src="INNERLY/Logo.jpg" alt="Logo Innerly" style="height:80px;">
            </div>
            <div class="nav-links">
                <a href="#">TRANG CH·ª¶</a>
                <a href="#mission">D·ª∞ √ÅN</a>
                <a href="#journey">H√ÄNH TR√åNH</a>
                <a href="#ai-bot" class="ai-link">G√ìC T√ÇM S·ª∞ AI</a>
            </div>
        </nav>
    </div>
</header>

<section class="hero">
    <div class="container">
        <h1>INNERLY</h1>
        <h2>B·ªô s·∫£n ph·∫©m c√¢n b·∫±ng c·∫£m x√∫c h·ªçc ƒë∆∞·ªùng<br>N∆°i m·ªói c·∫£m x√∫c c·ªßa tu·ªïi teen ƒë·ªÅu ƒë∆∞·ª£c tr√¢n tr·ªçng v√† l·∫Øng nghe</h2>
        <div class="hero-img-placeholder">
            <img src="INNERLY/Anh mo dau.png" alt="H·ªçc sinh tr·∫£i nghi·ªám Innerly">
        </div>
    </div>
</section>

<section id="mission" class="mission">
    <div class="container">
        <h2 class="section-title">Nhi·ªám V·ª• C·ªßa D·ª± √Ån</h2>
        <div class="mission-content">
            <div class="mission-text">
                <p><strong>INNERLY</strong> ra ƒë·ªùi ƒë·ªÉ ƒë·ªìng h√†nh c√πng tu·ªïi teen trong nh·ªØng chuy·ªÉn ƒë·ªông c·∫£m x√∫c th∆∞·ªùng nh·∫≠t c·ªßa ƒë·ªùi s·ªëng h·ªçc ƒë∆∞·ªùng.</p>
                <p>Th√¥ng qua nh·ªØng c√¥ng c·ª• nh·ªè, INNERLY m·ªü ra m·ªôt c√°ch nh·∫π nh√†ng ƒë·ªÉ teen nh·∫≠n di·ªán c·∫£m x√∫c v√† t√¨m l·∫°i s·ª± c√¢n b·∫±ng.</p>
            </div>
            <div class="mission-text">
                <p>Ch√∫ng t√¥i tin r·∫±ng chƒÉm s√≥c s·ª©c kh·ªèe tinh th·∫ßn b·∫Øt ƒë·∫ßu t·ª´ vi·ªác ƒë∆∞·ª£c l·∫Øng nghe.</p>
                <p>M·ªói tr·∫£i nghi·ªám c√° nh√¢n ƒë∆∞·ª£c nh√¨n nh·∫≠n ƒë√∫ng gi√° tr·ªã s·∫Ω t·∫°o n√™n c·ªông ƒë·ªìng an to√†n.</p>
            </div>
        </div>
    </div>
</section>

<section id="journey" class="journey">
    <div class="container">
        <h2 class="section-title">üåà H√†nh Tr√¨nh C·∫£m X√∫c</h2>
        <div class="journey-grid">
            <div class="card">
                <h3>1. CH·∫†M</h3>
                <img src="INNERLY/1. Cham.png">
                <span class="quote">‚ÄúM√¨nh ƒëang c·∫£m th·∫•y g√¨ v·∫≠y?‚Äù</span>
            </div>
            <div class="card">
                <h3>2. GI·∫¢I T·ªéA</h3>
                <img src="INNERLY/2. Giai toa.png">
                <span class="quote">‚ÄúM√¨nh kh√¥ng c·∫ßn gi·ªØ t·∫•t c·∫£ trong l√≤ng.‚Äù</span>
            </div>
            <div class="card">
                <h3>3. ·ªîN ƒê·ªäNH</h3>
                <img src="INNERLY/3. On dinh.png">
                <span class="quote">‚ÄúM√¨nh ƒëang d·∫ßn ·ªïn h∆°n r·ªìi.‚Äù</span>
            </div>
            <div class="card">
                <h3>4. PH√ÅT TRI·ªÇN</h3>
                <img src="INNERLY/4. Phat trien.png">
                <span class="quote">‚ÄúM√¨nh h·ªçc c√°ch chƒÉm s√≥c c·∫£m x√∫c m·ªói ng√†y.‚Äù</span>
            </div>
        </div>
    </div>
</section>

<section id="ai-bot" class="ai-section">
    <div class="container">
        <div class="ai-container">
            <div class="ai-header">
                <i class="fas fa-robot"></i>
                <h2>G√≥c T√¢m S·ª± INNERLY AI</h2>
            </div>

            <div id="chatBox"></div>

            <div class="chat-box">
                <textarea id="userInput" rows="4" placeholder="B·∫°n ƒëang c·∫£m th·∫•y th·∫ø n√†o?"></textarea>
                <button onclick="askGemini()" id="sendBtn" class="chat-btn">
                    <i class="fas fa-paper-plane"></i> G·ª≠i t√¢m s·ª±
                </button>
            </div>

            <div id="loading" class="loading-dots">
                <i class="fas fa-circle-notch fa-spin"></i> Innerly ƒëang suy nghƒ©...
            </div>
        </div>

        <div class="ai-features-grid">
            <div class="ai-feature-card">
                <h3><i class="fas fa-book-open"></i> T·ª´ ƒêi·ªÉn C·∫£m X√∫c</h3>
                <div class="input-group">
                    <input id="emotionDesc" placeholder="M√¥ t·∫£ c·∫£m x√∫c c·ªßa b·∫°n...">
                </div>
                <button onclick="defineEmotion()" id="btnDefine" class="chat-btn secondary">
                    <i class="fas fa-magic"></i> ƒê·∫∑t t√™n c·∫£m x√∫c
                </button>
                <div id="resultDefine" style="display:none;margin-top:10px;">
                    <strong id="emotionTitle"></strong>
                    <p id="emotionDef"></p>
                </div>
            </div>

            <div class="ai-feature-card">
                <h3><i class="fas fa-lightbulb"></i> G·ª£i √ù Ho·∫°t ƒê·ªông</h3>
                <div class="input-group">
                    <select id="moodSelect">
                        <option value="CƒÉng th·∫≥ng">CƒÉng th·∫≥ng</option>
                        <option value="Bu·ªìn ch√°n">Bu·ªìn ch√°n</option>
                        <option value="T·ª©c gi·∫≠n">T·ª©c gi·∫≠n</option>
                        <option value="Lo l·∫Øng">Lo l·∫Øng</option>
                        <option value="M·ªát m·ªèi">M·ªát m·ªèi</option>
                    </select>
                </div>
                <button onclick="suggestActivity()" id="btnSuggest" class="chat-btn secondary">
                    <i class="fas fa-hand-sparkles"></i> T√¨m ho·∫°t ƒë·ªông
                </button>
                <div id="resultSuggest" style="display:none;margin-top:10px;">
                    <p id="activityText"></p>
                </div>
            </div>
        </div>
    </div>
</section>

<footer>
    <div class="container">
        <div class="footer-grid">
            <div class="footer-item">
                <h4>INNERLY trong ƒë·ªùi s·ªëng h·ªçc ƒë∆∞·ªùng</h4>
                <img src="INNERLY/Doi song.png">
            </div>
            <div class="footer-item">
                <h4>B·ªô s·∫£n ph·∫©m INNERLY</h4>
                <img src="INNERLY/San pham.png">
            </div>
        </div>
    </div>
</footer>

<!-- =========================
     AI SCRIPT FIXED
========================= -->
<script>
const apiUrl = "https://innerly.hongnt-hnue.workers.dev";

let conversationHistory = [
  {
    role: "system",
    text: "B·∫°n l√† Innerly, m·ªôt ng∆∞·ªùi b·∫°n AI th·∫•u c·∫£m d√†nh cho h·ªçc sinh. Tr·∫£ l·ªùi ng·∫Øn g·ªçn, nh·∫π nh√†ng, an ·ªßi, kh√¥ng ph√°n x√©t."
  }
];

async function callAI(prompt) {
  try {
    const res = await fetch(apiUrl, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ prompt })
    });
    const data = await res.json();
    return data.text || "Innerly ƒëang suy nghƒ© th√™m ch√∫t n·ªØa nh√© üíõ";
  } catch {
    return "Innerly g·∫∑p s·ª± c·ªë k·∫øt n·ªëi, nh∆∞ng m√¨nh v·∫´n ·ªü ƒë√¢y v·ªõi b·∫°n üíõ";
  }
}

async function askGemini() {
  const input = document.getElementById("userInput");
  const chatBox = document.getElementById("chatBox");
  const loading = document.getElementById("loading");
  const btn = document.getElementById("sendBtn");

  const text = input.value.trim();
  if (!text) return alert("B·∫°n h√£y vi·∫øt g√¨ ƒë√≥ nh√©!");

  const userBubble = document.createElement("div");
  userBubble.className = "chat-bubble user";
  userBubble.innerText = text;
  chatBox.appendChild(userBubble);

  conversationHistory.push({ role: "user", text });
  input.value = "";

  loading.style.display = "block";
  btn.disabled = true;

  const fullPrompt = conversationHistory
    .map(m => `${m.role.toUpperCase()}: ${m.text}`)
    .join("\n");

  const reply = await callAI(fullPrompt);

  const botBubble = document.createElement("div");
  botBubble.className = "chat-bubble bot";
  botBubble.innerText = reply;
  chatBox.appendChild(botBubble);

  conversationHistory.push({ role: "assistant", text: reply });
  chatBox.scrollTop = chatBox.scrollHeight;

  loading.style.display = "none";
  btn.disabled = false;
}

async function defineEmotion() {
  const input = document.getElementById("emotionDesc").value.trim();
  const box = document.getElementById("resultDefine");
  const title = document.getElementById("emotionTitle");
  const def = document.getElementById("emotionDef");

  if (!input) return alert("H√£y m√¥ t·∫£ c·∫£m x√∫c c·ªßa b·∫°n nh√©!");

  const prompt = `
T·∫°o t√™n c·∫£m x√∫c v√† ƒë·ªãnh nghƒ©a ng·∫Øn cho m√¥ t·∫£ sau:
${input}
ƒê·ªãnh d·∫°ng: T√™n | ƒê·ªãnh nghƒ©a
`;

  const reply = await callAI(prompt);
  const parts = reply.split("|");

  title.innerText = parts[0] || "C·∫£m x√∫c ƒë·∫∑c bi·ªát";
  def.innerText = parts[1] || reply;

  box.style.display = "block";
}

async function suggestActivity() {
  const mood = document.getElementById("moodSelect").value;
  const box = document.getElementById("resultSuggest");
  const text = document.getElementById("activityText");

  const prompt = `G·ª£i √Ω 1 ho·∫°t ƒë·ªông nh·ªè trong 5 ph√∫t ƒë·ªÉ gi√∫p h·ªçc sinh c·∫£m th·∫•y t·ªët h∆°n khi ƒëang ${mood}.`;

  const reply = await callAI(prompt);
  text.innerText = reply;
  box.style.display = "block";
}

document.getElementById("userInput").addEventListener("keydown", e => {
  if (e.key === "Enter" && !e.shiftKey) {
    e.preventDefault();
    askGemini();
  }
});
</script>

</body>
</html>
